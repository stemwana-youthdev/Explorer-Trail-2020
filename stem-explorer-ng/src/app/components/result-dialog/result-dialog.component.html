<app-dialog inverted [category]="category">
  <h3>{{ data.challenge.title }}</h3>
  <h4>{{ Levels[data.level.difficulty] }}</h4>

  <div class="message" *ngIf="data.isCorrect; else incorrectMessage">
    <span class="material-icons graphic">
      done_outline
    </span>
    <h3 class="text">
      Well done! Correct Answer!
    </h3>
  </div>
  <ng-template #incorrectMessage>
    <div class="message">
      <span class="material-icons graphic">
        close
      </span>
      <h3 class="text">
        Oops! Wrong Answer
      </h3>
    </div>
  </ng-template>

  <ng-container *ngIf="data.isCorrect; else incorrectButtons">
    <ng-container *ngIf="(isLoggedIn$ | async); else loginOrRegister">
      <app-button *ngIf="data.hasNext" inverted mat-dialog-close [category]="category" (click)="nextLevel()">
        Next level
      </app-button>
    </ng-container>
  
    <ng-template #loginOrRegister>
      <h4>Register or Login to track your progress</h4>
  
      <app-button inverted mat-dialog-close [category]="category" (click)="navigateToRegister()">
        Register
      </app-button>
      <app-button inverted mat-dialog-close [category]="category" (click)="navigateToLogin()">
        Login
      </app-button>
    </ng-template>
  </ng-container>

  <ng-template #incorrectButtons>
    <app-button inverted mat-dialog-close>Try again</app-button>
  </ng-template>

  <app-button inverted mat-dialog-close [category]="category" (click)="navigateToHomepage()">Back to home</app-button>
</app-dialog>
