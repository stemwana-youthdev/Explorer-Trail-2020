<app-dialog [category]="data.challenge.category">
  <app-challenge-title [category]="data.challenge.category">{{data.challenge.title}}</app-challenge-title>
  <h4>{{ Levels[data.level.difficulty] }}</h4>

  <p id="question">
    <b>Question: </b>
    {{ data.level.questionText }}
  </p>

  <h3>
    Answer
    <span *ngIf="data.level.answerType === AnswerType.Multichoice" class="smaller">- Choose one</span>
  </h3>
  
  <ng-container [ngSwitch]="data.level.answerType">

    <ul *ngSwitchCase="AnswerType.Multichoice" class="answer-list">
      <li *ngFor="let answer of data.level.possibleAnswers">
        <app-button outlined [disabled]="checkingAnswer && answer !== selectedAnswer"
          (click)="submitAnswer(answer)">
          {{ answer }}
        </app-button>
      </li>
    </ul>

    <form *ngSwitchDefault (submit)="$event.preventDefault(); submitAnswer(answerValue)">
      <app-input placeholder="Type answer here" [disabled]="checkingAnswer" name="answer" [color]="validationError ? 'red' : ''" [(ngModel)]="answerValue"></app-input>
      <app-button [disabled]="checkingAnswer || (answerValue.trim().length === 0)" [category]="data.challenge.category">Enter Answer</app-button>
    </form>

  </ng-container>

  <p *ngIf="validationError">{{ validationError }}</p>

  <p *ngIf="checkingAnswer">Checking your answer&hellip;</p>
</app-dialog>
